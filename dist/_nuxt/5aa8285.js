(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{270:function(t,e,n){"use strict";n.r(e);var o=n(8),r=(n(56),n(69),{layout:"auth",asyncData:function(t){return{callbackUrl:t.query.callback}},data:function(){return{login:{email:"",password:""}}},methods:{userLogin:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$auth.loginWith("local",{data:t.login});case 3:if(n=e.sent,!t.callbackUrl){e.next=8;break}window.location.href="".concat(decodeURIComponent(t.callbackUrl),"&tokens=").concat(encodeURIComponent(JSON.stringify(n.data.tokens))),e.next=10;break;case 8:return e.next=10,t.$router.push("/");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t.$toast.error(e.t0.message).goAway();case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},togglePasswordVisibility:function(){var t=this.$refs.passwordInput,e=this.$refs.passwordVisibilityIcon;"password"===t.type?(t.type="text",e.classList.add("text-white")):(t.type="password",e.classList.remove("text-white"))}}}),l=n(23),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"display-4 text-center mb-3"},[t._v("\n    Sign in\n  ")]),t._v(" "),n("p",{staticClass:"text-muted text-center mb-5"},[t._v("\n    You're moments away from connecting with your prospects\n  ")]),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.userLogin.apply(null,arguments)}}},[n("div",{staticClass:"form-group"},[n("label",[t._v("Email Address")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"name@address.com"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("div",{staticClass:"row"},[t._m(0),t._v(" "),n("div",{staticClass:"col-auto"},[n("NuxtLink",{staticClass:"form-text small text-muted",attrs:{to:"forgot-password"}},[t._v("\n            Forgot password?\n          ")])],1)]),t._v(" "),n("div",{staticClass:"input-group input-group-merge"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],ref:"passwordInput",staticClass:"form-control form-control-appended",attrs:{type:"password",placeholder:"Enter your password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}}),t._v(" "),n("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"},on:{click:t.togglePasswordVisibility}},[n("span",{staticClass:"input-group-text"},[n("i",{ref:"passwordVisibilityIcon",staticClass:"fe fe-eye"})])])])]),t._v(" "),n("button",{staticClass:"btn btn-lg btn-block btn-primary mb-3",attrs:{type:"submit"}},[t._v("\n      Sign in\n    ")])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col"},[n("label",[t._v("Password")])])}],!1,null,null,null);e.default=component.exports}}]);