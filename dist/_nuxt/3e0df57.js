(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{264:function(e,t,r){e.exports=r.p+"img/salesforce_icon.9f3f114.png"},274:function(e,t,r){"use strict";r.r(t);var n=r(8),l=(r(69),r(20),r(72),r(73),r(57),r(189),r(27),r(32),r(265),r(266),r(43),r(12),r(44),r(33),r(24),r(45),r(46),r(34),r(56),r(267));function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,l=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw l}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var c=r(268).DateTime,m={name:"Home",layout:"app",data:function(){return{user:{},org:{},selectedDate:c.now().toFormat("yyyy-MM-dd"),events:[],fields:[],selectedEvent:null,dataTypes:{numbers:["byte","short","int","long","float","double","currency","percent"]},referenceSearch:{isOpen:!1,name:null,label:null,results:[]},justSaved:!1}},watch:{selectedDate:function(){this.getEvents()}},created:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.user=e.$auth.user,t.next=3,e.getEvents();case 3:return t.next=5,e.getOrg();case 5:case"end":return t.stop()}}),t)})))()},methods:{getOrg:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$get("/org");case 3:e.org=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getEvents:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=c.fromFormat(e.selectedDate,"yyyy-MM-dd").toISO(),n=c.fromFormat(e.selectedDate,"yyyy-MM-dd").plus({days:1}).toISO(),t.next=5,e.$axios.$get("/google/events?startTime=".concat(r,"&endTime=").concat(n));case 5:e.events=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},formatTime:function(e){return c.fromISO(e).toFormat("h:mm a")},getParticipantDomains:function(e){var t=this,r=[];return e.forEach((function(e){e.email.includes("@")&&(t.user.email.split("@")[1]===e.email.split("@")[1]||e.email.includes("resource.calendar.google")||r.push(e.email.split("@")[1]))})),r.filter((function(e,t){return r.indexOf(e)===t}))},isEventExternal:function(e){var t=[];return e.forEach((function(e){t.push(e.email.split("@")[1])})),!t.every((function(i){return i===t[0]}))},isEventLive:function(e,t){var r=c.fromISO(e).ts,n=c.fromISO(t).ts,l=c.now().ts;return l>=r&&l<n},getSlotFields:function(e){return e.filter((function(e){return"Slot"===e.mappingType}))},getActivePicklistOptions:function(e){return e.filter((function(option){return option.active}))},openReferenceSearch:function(e){this.referenceSearch.isOpen=!0,this.referenceSearch.name=e.name,this.referenceSearch.label=e.label},closeReferenceSearch:function(){this.referenceSearch={isOpen:!1,name:null,label:null,results:[]}},search:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$get("/salesforce/lookups?sobject=".concat(e.org.salesforce.schema.name,"&field=").concat(e.referenceSearch.name,"&term=").concat(e.referenceSearch.term));case 3:r=t.sent,e.referenceSearch.results=[],Object.values(r.lookupResults).forEach((function(t){t.records.forEach((function(t){e.referenceSearch.results.push(t)}))})),console.log(e.referenceSearch.results),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},selectReference:function(e){var t=this;this.fields.find((function(r){return r.name===t.referenceSearch.name&&(r.mappingValue=e,t.closeReferenceSearch(),!0)}))},logoNotFound:function(e){e.path[1].innerHTML='<span class="h-8 w-8 rounded-full bg-gray-300 flex items-center justify-center ring-8 ring-white"><svg class="h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd" /></svg></span>'},getExternalDomain:function(e){var t,r,n,l,o,d=this;return(null===(t=e.attendees)||void 0===t||null===(r=t.find((function(e){return e.email.split("@")[1]!==d.user.email.split("@")[1]})))||void 0===r||null===(n=r.email)||void 0===n?void 0:n.split("@")[1])||(null===(l=e.organizer)||void 0===l||null===(o=l.email)||void 0===o?void 0:o.split("@")[1])||this.user.email.split("@")[1]},createRecord:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$axios.$post("/salesforce/create",{event:e.selectedEvent,fields:e.fields});case 3:e.shootConfetti(.25,{spread:26,startVelocity:55}),e.shootConfetti(.2,{spread:60}),e.shootConfetti(.35,{spread:100,decay:.91,scalar:.8}),e.shootConfetti(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),e.shootConfetti(.1,{spread:120,startVelocity:45}),e.justSaved=!0,r=o(e.events);try{for(r.s();!(n=r.n()).done;)(l=n.value).id===e.selectedEvent.id&&(l.justSaved=!0)}catch(e){r.e(e)}finally{r.f()}e.selectedEvent=null,e.fields=JSON.parse(JSON.stringify(e.org.salesforce.schema.fields)),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),console.log(t.t0),e.$toast.error(t.t0.response.data.message).goAway();case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},newEvent:function(e){this.justSaved=!1,this.selectedEvent=e,this.fields=JSON.parse(JSON.stringify(this.org.salesforce.schema.fields))},shootConfetti:function(e,t){Object(l.a)(Object.assign({},{origin:{y:.7}},t,{particleCount:Math.floor(200*e)}))}}},f=r(23),component=Object(f.a)(m,(function(){var e,t,n,l,o,d,c,m,f,v,x=this,y=x.$createElement,h=x._self._c||y;return h("main",{staticClass:"flex-1 flex overflow-hidden"},[h("div",{staticClass:"flex-1 flex xl:overflow-hidden"},[h("section",{staticClass:"min-w-0 flex-1 h-full flex flex-col lg:order-last p-8 overflow-y-scroll",attrs:{"aria-labelledby":"primary-heading"}},[x.justSaved?h("div",{staticClass:"h-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center flex items-center justify-center"},[x._m(0)]):null!==(e=x.org.salesforce)&&void 0!==e&&null!==(t=e.auth)&&void 0!==t&&t.accessToken&&null!==(n=x.org.salesforce)&&void 0!==n&&null!==(l=n.schema)&&void 0!==l&&l.fields.length&&x.selectedEvent?h("div",[h("div",{staticClass:"pb-3 mb-3 border-b border-gray-200"},[h("div",{staticClass:"sm:flex sm:justify-between sm:items-baseline"},[h("div",{staticClass:"sm:w-0 sm:flex-1"},[h("h1",{staticClass:"text-xl font-bold leading-7 text-gray-900 sm:text-2xl sm:truncate",attrs:{id:"message-heading"}},[x._v("\n                New "+x._s(x.org.salesforce.schema.label)+"\n              ")]),x._v(" "),h("p",{staticClass:"mt-1 text-sm text-gray-500 overflow-hidden overflow-ellipsis"},[x._v("\n                "+x._s(x.selectedEvent.summary)+"\n              ")]),x._v(" "),x.selectedEvent.attendees?h("div",x._l(x.getParticipantDomains(x.selectedEvent.attendees),(function(e){return h("span",{key:e,staticClass:"inline-flex items-center mr-2 px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-400"},[x._v("\n                  "+x._s(e)+"\n                ")])})),0):x._e()]),x._v(" "),h("div",{staticClass:"mt-4 flex items-center justify-between sm:mt-0 sm:ml-6 sm:flex-shrink-0 sm:justify-start"},[x.isEventLive(x.selectedEvent.start.dateTime,x.selectedEvent.end.dateTime)?h("span",{staticClass:"inline-flex items-center px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-800"},[x._v("\n                Live now\n              ")]):x._e(),x._v(" "),(null===(f=x.selectedEvent.attendees)||void 0===f?void 0:f.length)>1?h("span",{staticClass:"inline-flex items-center ml-2 px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-400"},[x._v("\n                "+x._s(x.selectedEvent.attendees.length)+" participants\n              ")]):x._e(),x._v(" "),x.selectedEvent.recurringEventId?h("span",{staticClass:"inline-flex items-center ml-2 px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-400"},[x._v("\n                Recurring\n              ")]):x._e(),x._v(" "),null!==(v=x.selectedEvent.attendees)&&void 0!==v&&v.length&&x.isEventExternal(x.selectedEvent.attendees)?h("span",{staticClass:"inline-flex items-center ml-2 px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-400"},[x._v("\n                External\n              ")]):x._e()])])]),x._v(" "),x._l(x.getSlotFields(x.fields),(function(e){return h("div",{key:e.name},["email"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"email"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})]):"phone"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"tel"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})]):"picklist"===e.type?h("div",[h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n                "+x._s(e.label)+"\n              ")]),x._v(" "),h("select",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));x.$set(e,"mappingValue",t.target.multiple?r:r[0])}}},x._l(x.getActivePicklistOptions(e.picklistValues),(function(option){return h("option",{key:option.value,domProps:{value:option.value}},[x._v("\n                  "+x._s(option.label)+"\n                ")])})),0)])]):"multipicklist"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("select",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{multiple:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));x.$set(e,"mappingValue",t.target.multiple?r:r[0])}}},x._l(x.getActivePicklistOptions(e.picklistValues),(function(option){return h("option",{key:option.value,domProps:{value:option.value}},[x._v("\n                "+x._s(option.label)+"\n              ")])})),0)]):"boolean"===e.type?h("div",[h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n                "+x._s(e.label)+"\n              ")]),x._v(" "),h("select",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));x.$set(e,"mappingValue",t.target.multiple?r:r[0])}}},[h("option",{attrs:{value:"true"}},[x._v("\n                  True\n                ")]),x._v(" "),h("option",{attrs:{value:"false"}},[x._v("\n                  False\n                ")])])])]):"datetime"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"datetime-local"},on:{change:function(t){e.mappingValue=new Date(t.target.value).toISOString()}}})]):"time"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"time"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})]):"date"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"date"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})]):"reference"===e.type?h("div",[h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n                "+x._s(e.label)+"\n              ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"focus:ring-indigo-500 focus:border-indigo-500 block w-full rounded-none sm:text-sm border-gray-300",attrs:{type:"text"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}}),x._v(" "),h("button",{staticClass:"-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 bg-gray-50 hover:bg-gray-100 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500",attrs:{type:"button"},on:{click:function(t){return x.openReferenceSearch(e)}}},[h("svg",{staticClass:"h-5 w-5 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[h("path",{attrs:{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"}})]),x._v(" "),h("span",[x._v("Search")])])])]):"textarea"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("textarea",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{rows:"4"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})]):"url"===e.type?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"url"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})]):x.dataTypes.numbers.some((function(t){return e.type===t}))?h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"number",step:"any"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})]):h("div",{staticClass:"mt-1 flex rounded-md shadow-sm"},[h("span",{staticClass:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm"},[x._v("\n              "+x._s(e.label)+"\n            ")]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:e.mappingValue,expression:"field.mappingValue"}],staticClass:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border-gray-300",attrs:{type:"text"},domProps:{value:e.mappingValue},on:{input:function(t){t.target.composing||x.$set(e,"mappingValue",t.target.value)}}})])])})),x._v(" "),h("button",{staticClass:"mt-3 inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",attrs:{type:"button"},on:{click:function(e){return x.createRecord()}}},[h("svg",{staticClass:"-ml-1 mr-2 h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[h("path",{attrs:{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"}})]),x._v("\n          Save\n        ")])],2):h("div",{staticClass:"h-full border-2 border-gray-300 border-dashed rounded-lg p-12 text-center flex items-center justify-center"},[h("div",[h("span",{staticClass:"text-4xl"},[x._v("🤔")]),x._v(" "),null!==(o=x.org.salesforce)&&void 0!==o&&null!==(d=o.auth)&&void 0!==d&&d.accessToken?null!==(c=x.org.salesforce)&&void 0!==c&&null!==(m=c.schema)&&void 0!==m&&m.fields.length?h("span",{staticClass:"mt-2 block text-sm text-gray-400"},[x._v("\n            Pick an event to log a new "+x._s(x.org.salesforce.schema.label||"activity")+".\n          ")]):h("span",{staticClass:"mt-2 block text-sm text-gray-400"},[x._v("\n            You need to configure Salesforce!\n          ")]):h("span",{staticClass:"mt-2 block text-sm text-gray-400"},[x._v("\n            You need to connect Salesforce!\n          ")])])])]),x._v(" "),h("aside",{staticClass:"hidden lg:block lg:flex-shrink-0 lg:order-first"},[h("div",{staticClass:"h-full relative flex flex-col w-96 border-r border-gray-200 bg-white"},[h("div",{staticClass:"mx-8 my-6"},[h("input",{directives:[{name:"model",rawName:"v-model",value:x.selectedDate,expression:"selectedDate"}],staticClass:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",attrs:{type:"date"},domProps:{value:x.selectedDate},on:{input:function(e){e.target.composing||(x.selectedDate=e.target.value)}}})]),x._v(" "),h("div",{staticClass:"flow-root overflow-y-scroll"},[h("ul",{staticClass:"-mb-8 px-8 py-4",attrs:{role:"list"}},x._l(x.events,(function(e){var t,r;return h("li",{key:e.id,on:{click:function(t){return x.newEvent(e)}}},[h("div",{staticClass:"relative pb-8"},[h("span",{staticClass:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200",attrs:{"aria-hidden":"true"}}),x._v(" "),h("div",{staticClass:"relative flex space-x-3 transition duration-75 hover:scale-105 cursor-pointer"},[h("div",[h("img",{staticClass:"h-8 w-8 rounded-full bg-gray-400 flex items-center justify-center ring-8 ring-white",attrs:{src:"//logo.clearbit.com/"+x.getExternalDomain(e)},on:{error:function(e){return x.logoNotFound(e)}}})]),x._v(" "),h("div",{staticClass:"min-w-0 flex-1 pt-1.5 flex space-x-4"},[h("div",{staticClass:"text-xs whitespace-nowrap text-gray-300"},[h("time",{attrs:{datetime:"2020-09-20"}},[x._v(x._s(x.formatTime(e.start.dateTime)))])]),x._v(" "),h("div",[h("p",{staticClass:"text-sm font-bold text-gray-700",class:[e.justSaved?"line-through":""]},[x._v("\n                        "+x._s(e.summary)),h("br")]),x._v(" "),x.isEventLive(e.start.dateTime,e.end.dateTime)?h("span",{staticClass:"inline-flex items-center px-2 py-0.5 rounded text-xxs bg-blue-100 text-blue-800"},[x._v("\n                        Live now\n                      ")]):x._e(),x._v(" "),(null===(t=e.attendees)||void 0===t?void 0:t.length)>1?h("span",{staticClass:"inline-flex items-center px-2 py-0.5 rounded text-xxs bg-yellow-100 text-yellow-800 opacity-50"},[x._v("\n                        "+x._s(e.attendees.length)+" participants\n                      ")]):x._e(),x._v(" "),e.recurringEventId?h("span",{staticClass:"inline-flex items-center px-2 py-0.5 rounded text-xxs bg-red-100 text-red-800 opacity-50"},[x._v("\n                        Recurring\n                      ")]):x._e(),x._v(" "),null!==(r=e.attendees)&&void 0!==r&&r.length&&x.isEventExternal(e.attendees)?h("span",{staticClass:"inline-flex items-center px-2 py-0.5 rounded text-xxs bg-green-100 text-green-800 opacity-70"},[x._v("\n                        External\n                      ")]):x._e()])])])])])})),0)])])])]),x._v(" "),h("div",{staticClass:"fixed inset-0 overflow-hidden ease-in-out duration-500 transition-all",class:[x.referenceSearch.isOpen?"opacity-100 visible":"opacity-0 invisible"],attrs:{"aria-labelledby":"slide-over-title",role:"dialog","aria-modal":"true"}},[h("div",{staticClass:"absolute inset-0 overflow-hidden"},[h("div",{staticClass:"absolute inset-0 bg-gray-500 bg-opacity-75 transition-opacity",attrs:{"aria-hidden":"true"}}),x._v(" "),h("div",{staticClass:"fixed inset-y-0 right-0 pl-10 max-w-full flex transform transition ease-in-out duration-500 sm:duration-700",class:[x.referenceSearch.isOpen?"translate-x-0":"translate-x-full"]},[h("div",{staticClass:"w-screen max-w-md"},[h("div",{staticClass:"h-full flex flex-col py-6 bg-white shadow-xl overflow-y-scroll"},[h("div",{staticClass:"px-4 sm:px-6"},[h("div",{staticClass:"flex items-start justify-between"},[h("h2",{staticClass:"text-lg font-medium text-gray-900",attrs:{id:"slide-over-title"}},[x._v("\n                  Search for "+x._s(x.referenceSearch.label)+"\n                ")]),x._v(" "),h("div",{staticClass:"ml-3 h-7 flex items-center"},[h("button",{staticClass:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",attrs:{type:"button"},on:{click:function(e){return x.closeReferenceSearch()}}},[h("span",{staticClass:"sr-only"},[x._v("Close panel")]),x._v(" "),h("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true"}},[h("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"}})])])])])]),x._v(" "),h("div",{staticClass:"mt-6 relative flex-1 px-4 sm:px-6"},[h("div",{staticClass:"mt-1 relative rounded-md shadow-sm"},[h("div",{staticClass:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[h("svg",{staticClass:"h-5 w-5 text-gray-400",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"}},[h("path",{attrs:{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"}})])]),x._v(" "),h("input",{directives:[{name:"model",rawName:"v-model",value:x.referenceSearch.term,expression:"referenceSearch.term"},{name:"debounce",rawName:"v-debounce:300ms",value:x.search,expression:"search",arg:"300ms"}],staticClass:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-10 sm:text-sm border-gray-300 rounded-md",attrs:{type:"text"},domProps:{value:x.referenceSearch.term},on:{input:function(e){e.target.composing||x.$set(x.referenceSearch,"term",e.target.value)}}})]),x._v(" "),h("div",{staticClass:"flow-root mt-6"},[h("ul",{staticClass:"-my-5 divide-y divide-gray-200",attrs:{role:"list"}},x._l(x.referenceSearch.results,(function(e){var t,n,l,o;return h("li",{key:e.id,staticClass:"py-4"},[h("div",{staticClass:"flex items-center space-x-4"},[h("div",{staticClass:"flex-shrink-0 opacity-75 transition hover:opacity-100"},[h("a",{attrs:{href:x.org.salesforce.auth.instanceUrl+"/"+e.id,target:"_blank"}},[h("img",{staticClass:"h-4 w-4",attrs:{src:r(264),alt:"Salesforce cloud icon"}})])]),x._v(" "),h("div",{staticClass:"flex-1 min-w-0"},[h("p",{staticClass:"text-sm font-medium text-gray-900 truncate"},[x._v("\n                          "+x._s((null===(t=e.fields.Name)||void 0===t?void 0:t.displayValue)||(null===(n=e.fields.Name)||void 0===n?void 0:n.value))+"\n                        ")]),x._v(" "),h("p",{staticClass:"text-sm text-gray-500 truncate"},[x._v("\n                          "+x._s((null===(l=e.fields.DisambiguationField)||void 0===l?void 0:l.displayValue)||(null===(o=e.fields.DisambiguationField)||void 0===o?void 0:o.value))+"\n                        ")])]),x._v(" "),h("div",[h("button",{staticClass:"inline-flex items-center shadow-sm px-2.5 py-0.5 border border-gray-300 text-sm leading-5 font-medium rounded-full text-gray-700 bg-white hover:bg-gray-50",attrs:{type:"button"},on:{click:function(t){return x.selectReference(e.id)}}},[x._v("\n                          Select\n                        ")])])])])})),0)])])])])])])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("span",{staticClass:"text-4xl"},[e._v("🎉")]),e._v(" "),r("span",{staticClass:"mt-2 block text-sm text-gray-400"},[e._v("\n            All set — that was fast! Wanna do it again?\n          ")])])}],!1,null,"483689ae",null);t.default=component.exports}}]);