(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{271:function(t,e,r){"use strict";r.r(e);var n=r(8),o=(r(56),r(12),{layout:"auth",auth:!1,asyncData:function(t){var e=t.query;return{token:e.token,userId:e.id}},data:function(){return{password:null}},methods:{resetPassword:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:3001/v1","/auth/reset/"),{method:"post",body:JSON.stringify({token:t.token,userId:t.userId,password:t.password}),headers:{"Content-Type":"application/json",Authorization:t.$auth.$storage.getUniversal("_token.local")}}).then((function(t){if(!t.ok)throw t;return t.json()})).then((function(e){t.$toast.success("Password reset!").goAway()})).catch((function(e){e.json().then((function(e){t.$toast.error(e.error).goAway()}))}));case 2:case"end":return e.stop()}}),e)})))()},togglePasswordVisibility:function(){var t=this.$refs.passwordInput,e=this.$refs.passwordVisibilityIcon;"password"===t.type?(t.type="text",e.classList.add("text-white")):(t.type="password",e.classList.remove("text-white"))}}}),c=r(23),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",{staticClass:"display-4 text-center mb-3"},[t._v("\n    Set Password\n  ")]),t._v(" "),r("p",{staticClass:"text-muted text-center mb-5"},[t._v("\n    You're moments away from connecting with your prospects\n  ")]),t._v(" "),r("form",{on:{submit:function(e){return e.preventDefault(),t.resetPassword.apply(null,arguments)}}},[r("div",{staticClass:"form-group"},[t._m(0),t._v(" "),r("div",{staticClass:"input-group input-group-merge"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"passwordInput",staticClass:"form-control form-control-appended",attrs:{type:"password",placeholder:"Enter your password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),r("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"},on:{click:t.togglePasswordVisibility}},[r("span",{staticClass:"input-group-text"},[r("i",{ref:"passwordVisibilityIcon",staticClass:"fe fe-eye"})])])])]),t._v(" "),r("button",{staticClass:"btn btn-lg btn-block btn-primary mb-3",attrs:{type:"submit"}},[t._v("\n      Submit\n    ")])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[r("div",{staticClass:"col"},[r("label",[t._v("New Password")])])])}],!1,null,null,null);e.default=component.exports}}]);